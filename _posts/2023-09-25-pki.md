---
layout: post
title: Public Key Infrastructure
excerpt: Public key infrastructure is a system of cryptographic keys, digital certificates, and certificate authorities that is used to verify the authenticity of digital information and ensure secure communication over networks. A PKI system uses a public key and a private key. While the public key is freely available and used to encrypt data or verify digital signatures, the private key is kept secret and used for decryption or creating digital signatures.
categories: [crypto, mitm]
---

![PKI]({{ site.baseurl }}/images/featured-images/pki.jpg)


Public key infrastructure is a system of cryptographic keys, digital certificates, and certificate authorities that is used to verify the authenticity of digital information and ensure secure communication over networks.

A PKI system uses a public key and a private key. While the public key is freely available and used to encrypt data or verify digital signatures, the private key is kept secret and used for decryption or creating digital signatures.

A PKI system is usually made up of the following components:
- **Certificate Authority (CA)**: A CA is a trusted third-party that is responsible for issuing digital certificates.
- **Digital Certificate**: A digital certificate is used to validate the identity of individuals, organizations, or devices. Digital certificates make use of the X.509 standard. A digital certificate usually contains the following:
  - **Public Key**: The public key is made available to anyone who wishes to encrypt messages for the certificate holder or verify their digital signatures.
  - **Issuer**: Information about the CA who issues the certificate.
  - **Subject**: Information about the certificate holder's identity, such as the organization name, email address, and other relevant identifying details of the individual or entity being certified. This allows third parties to confirm the identity of the certificate holder.
  - **Validity Period**: Information about when the certificate should be considered valid; It typically has an expiration date, after which it needs to be renewed to continue to be trusted.
  - **Signature**: This is the digital signature of the CA that issues the certificate.
  - **Serial number**: this is a unique number that distinguishes the certificate from other certificates.
  - **Extensions**: Newer versions of the X.509 certificates contain optional extension fields.

<details>
<summary>Getting a certificate from a real server</summary>
<div markdown="1">

___
First, get the certificate
```bash
openssl s_client -showcerts -connect www.meta.com:443 </dev/null
```
An actual X.509 certificate contains binary data, making it difficult to print or view. Therefore, when stored in files, they are often encoded using base64.

The best way to view an X.509 certificate is to save the base64 PEM content into a `.pem` file and use openssl to convert the content into text.
```bash
openssl x509 -in meta.pem -text -noout
```
___
</div></details>


The public key infrastructure (PKI) helps enforce the CIA triad.
- **Confidentiality**: using public keys ensures that only the intended recipient can decrypt and read the data.
- **Integrity**: Digital signatures created using private keys help ensure that data has not been tampered with during transmission.
- **Authentication**: PKI verifies the identities of individuals or entities in digital communications, reducing the risk of impersonation or fraud.


In this post, I aim to document my findings and observations while performing a SEED lab.


<br>

### Becoming a Certificate Authority (CA)
